<app-blank title="Basket" sectionTitle="Basket items">
  <div class="row">
    <div class="col-md-9">
      <app-table
        [heads]="[
          '#',
          'Image',
          'Product Name',
          'Stock',
          'Proce',
          'Total',
          'Options'
        ]"
      >
        <tr *ngFor="let basket of baskets; let index = index">
          <td>{{ index + 1 }}</td>
          <td>
            <img
              [src]="
                'http://localhost:4050/' +
                basket?.products[0]?.imageUrls[0]?.path
              "
              width="50"
            />
          </td>
          <td>{{ basket?.products[0]?.name }}</td>
          <td>{{ basket.quantity }}</td>
          <td>{{ basket.price }}</td>
          <td>{{ +(basket.price * basket.quantity).toFixed(2) }}</td>
          <td>
            <button
              (click)="removeById(basket._id)"
              class="btn btn-outline-danger btn-sm mx-1"
              title="Sil"
            >
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </tr>
      </app-table>
    </div>
    <div class="col-md-3" style="border: 1px solid #ccc; padding: 10px">
      <h3 class="alert alert-danger">Total : {{ sum }}</h3>
      <button (click)="createOrder()" *ngIf="baskets.length > 0" class="btn btn-danger w-100">        
        Buy
      </button>
    </div>
  </div>
</app-blank>
